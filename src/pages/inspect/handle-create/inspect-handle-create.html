<!--
  Generated template for the AddInspectViewPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>

  <ion-navbar>
    <ion-title>问题整改</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <div *ngIf="dataSource">
    <ion-list>
      <ion-item>
        <ion-label>巡查对象</ion-label>
        <ion-label class="result">{{dataSource.name}}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label>巡查人</ion-label>
        <ion-label class="result">{{dataSource.inspectPerson}}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label>巡查时间</ion-label>
        <ion-label class="result">{{dataSource.inspectTime}}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label>巡查状态</ion-label>
        <ion-label *ngIf="dataSource.inpectStatus == 1" class="result">巡查正常</ion-label>
        <ion-label *ngIf="dataSource.inpectStatus == 2" class="result">出现问题未处理</ion-label>
        <ion-label *ngIf="dataSource.inpectStatus == 3" class="result">出现问题已处理</ion-label>
        <ion-label *ngIf="dataSource.inpectStatus == 4" class="result">未巡查</ion-label>
      </ion-item>
      <ion-item class="text-normal" *ngIf="questionShowHide">
        <ion-label>问题类型</ion-label>
        <ion-label class="result" style="white-space:normal;">
          <div *ngFor="let item of questionTypeContent">
            <div>{{item}}</div>
          </div>
        </ion-label>
      </ion-item>
    </ion-list>

    <ion-list class="gray-title">
      <ion-list-header>巡查描述</ion-list-header>
      <ion-item>
        <div style="min-height:80px;background:#fff; color:#000;">{{dataSource.inspectDescription}}</div>
      </ion-item>
    </ion-list>
    <ion-list class="gray-title" style="margin-bottom:1em;">
      <ion-list-header>巡查附件</ion-list-header>
      <ion-item *ngIf="dataSource.sPicUrl.length!=0">
        <div class="addPics-wrapper">
          <div *ngFor="let fileObj of fileObjList;let i = index" class="pictures">
            <img src="{{inspectService.getPicUrl(fileObj)}}" (click)="viewerInspectPicture(i)">
          </div>
        </div>
      </ion-item>
      <ion-item *ngIf="dataSource.sPicUrl.length==0">
        <div style="color:#000;">无巡查附件</div>
      </ion-item>
    </ion-list>

    <ion-list class="gray-title">
      <ion-list-header>整改描述</ion-list-header>
      <ion-item>
        <ion-textarea placeholder="请输入整改描述" style="height:80px;" [(ngModel)]="dataSource.reformDescription" name="name"></ion-textarea>
      </ion-item>
    </ion-list>

    <ion-list class="gray-title" style="margin-bottom:8em;">
      <ion-list-header>整改附件</ion-list-header>
      <ion-item>
        <div class="addPics-wrapper">
          <div *ngFor="let fileObj of fileObjHandleList;let i = index" class="pictures" (press)="deleteHandlePicture(i)">
            <img src="{{inspectService.getPicUrl(fileObj)}}" (click)="viewerHandlePicture(i)">
          </div>
          <div class="profile-image-wrapper" (click)="getPicture(1)">
          </div>
        </div>
      </ion-item>
    </ion-list>
    <button (click)="submit()" ion-button type="submit" block style="position:fixed;bottom:0;margin:0;">确定</button>
  </div>
</ion-content>